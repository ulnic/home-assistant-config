id: baby_2  # Automatically created id
background: "right/auto linear-gradient(23deg, rgba(151,177,177,1) 0%, rgba(151,177,177,1) 34%, rgba(255,255,255,1) 100%)"
icon: mdi:baby
title: Nursery
cards:

  - type: custom:simple-weather-card
    entity: weather.dark_sky
    name: at home

  - type: custom:vertical-stack-in-card
    cards:
      - type: conditional
        conditions:
          - entity: binary_sensor.nursery_show_all_lights
            state: 'on'
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  template: button_scene_only_on
                  name: All OFF
                  icon: mdi:flashlight-off
                  variables:
                    scene_entity: "scene.nursery_all_off"
                - type: custom:button-card
                  template: button_scene_only_on
                  entity: scene.nursery_night_read
                  name: Night Reading
                  icon: mdi:book-open-page-variant
                  variables:
                    scene_entity: "scene.nursery_night_read"
                - type: custom:button-card
                  template: button_scene_only_on
                  entity: scene.nursery_full_on
                  name: All ON
                  variables:
                    scene_entity: scene.nursery_full_on

                - type: "custom:button-card"
                  template: button_fan
                  entity: fan.nursery_ceiling_fan
                  variables:
                    room: 'nursery'

            - type: entities
              show_header_toggle: false
              entities:
                - type: custom:slider-entity-row
                  entity:  light.nursery_ceiling
                  toggle: true
                  full_row: true
                  name: Nursery
                - type: custom:slider-entity-row
                  entity:  light.lifx_nursery_1
                  toggle: true
                  name: Balcony
                - type: custom:slider-entity-row
                  entity:  light.lifx_nursery_2
                  toggle: true
                  name: Cot
              style: |
                ha-card {
                  background-color: rgba(0, 0, 0, 0);
                  -webkit-box-shadow: none;
                  -moz-box-shadow: none;
                  box-shadow: none;
                }
      - type: conditional
        conditions:
          - entity: binary_sensor.nursery_show_all_lights
            state: 'off'
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              template: button_scene_only_on
              name: All OFF
              icon: mdi:flashlight-off
              variables:
                scene_entity: "scene.nursery_all_off"
            - type: custom:button-card
              template: button_fan
              entity: fan.nursery_ceiling_fan
              variables:
                room: 'nursery'
            - type: custom:button-card
              template: base_button
              entity: input_boolean.nursery_sleeping_override

  - type: custom:vertical-stack-in-card
    cards:
      - type: markdown
        content: >
          #### Doors & Motion
        style: |
          ha-card {
            background-color: rgba(0, 0, 0, 0);
            -webkit-box-shadow: none;
            -moz-box-shadow: none;
            box-shadow: none;
          }
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            template: door
            entity: binary_sensor.door_sensor_158_nursery
            name: Nursery Door
          - type: custom:button-card
            template: door
            entity: binary_sensor.door_sensor_158_nursery_balcony
            name: Nursery Balcony
          - type: custom:button-card
            template: motion
            entity: binary_sensor.158_motion_nursery
            name: Nursery Motion
  - type: custom:swipe-card
    parameters:
      effect: coverflow
    cards:
      - type: custom:mini-graph-card
        entities:
          - sensor.temperature_158_nursery
        name: Current Temp
        points_per_hour: 1
        height: 40
        color_thresholds:
          - value: 0
            color: "#CCE5FF"
          - value: 10
            color: "#66B2FF"
          - value: 15
            color: "#0080FF"
          - value: 18
            color: "#87c087"
          - value: 21
            color: "#389638"
          - value: 24
            color: "#FF9932"
          - value: 25
            color: "#FF8000"
          - value: 26
            color: "#ff0000"
      - type: custom:mini-graph-card
        entities:
          - sensor.humidity_158_nursery
        name: Humidity
        points_per_hour: 1
        height: 40
        line_color: blue
      - type: custom:mini-graph-card
        entities:
          - sensor.158_illumination_nursery
        name: Light
        points_per_hour: 1
        height: 40
        line_color: yellow
  - type: custom:mini-graph-card
    entities:
      - sensor.temperature_158_nursery
    name: 2wk Temp trend
    points_per_hour: .75
    hours_to_show: 240
    height: 40
    show:
      icon: true
      fill: true
    color_thresholds:
      - value: 0
        color: "#CCE5FF"
      - value: 10
        color: "#66B2FF"
      - value: 15
        color: "#0080FF"
      - value: 18
        color: "#87c087"
      - value: 21
        color: "#389638"
      - value: 24
        color: "#FF9932"
      - value: 25
        color: "#FF8000"
      - value: 26
        color: "#ff0000"
  - type: picture
    image: /local/ergopouch-temperature-guide.jpg
